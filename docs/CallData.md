# CallData

The following is how we can decode the calldata in direct call / UserOperation.

For the following explanation, we take the scenario where we want to call function `createNewGame(address _player1, address _player2)` in `TicTacToe.sol` as an example.

## Case 1: Direct Call

For direct call, we call `execute(address dest, uint356 value, bytes calldata func)` in `Account.sol` directly.

We need to fill in `func` with `0x5186a16b00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c80000000000000000000000003c44cdddb6a900fa2b585dd299e03d12fa4293bc`.

```
0x5186a16b
  00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c8
  0000000000000000000000003c44cdddb6a900fa2b585dd299e03d12fa4293bc
```

- `0x5186a16b`: function selector of `createNewGame(address,address)`.
- `00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c8`: player 1 address padding to 32 bytes.
- `0000000000000000000000003c44cdddb6a900fa2b585dd299e03d12fa4293bc`: player 2 address padding to 32 bytes.

## Case 2: Using UserOperation

In this case, we need to use `EntryPoint` to call our `execute(address dest, uint356 value, bytes calldata func)` in `Account.sol`. Thus, we need to fill in `UserOp.calldata` with `0xb61d27f60000000000000000000000005fbdb2315678afecb367f032d93f642f64180aa30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000445186a16b00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c80000000000000000000000003c44cdddb6a900fa2b585dd299e03d12fa4293bc00000000000000000000000000000000000000000000000000000000`.

```
0xb61d27f6
  0000000000000000000000005fbdb2315678afecb367f032d93f642f64180aa3
  0000000000000000000000000000000000000000000000000000000000000000
  0000000000000000000000000000000000000000000000000000000000000060
  0000000000000000000000000000000000000000000000000000000000000044
  5186a16b00000000000000000000000070997970c51812dc3a010c7d01b50e0d
  17dc79c80000000000000000000000003c44cdddb6a900fa2b585dd299e03d12
  fa4293bc00000000000000000000000000000000000000000000000000000000
```

- `0xb61d27f6`: function selector of `execute(address,uint356,bytes)`.
- `0000000000000000000000005fbdb2315678afecb367f032d93f642f64180aa3`: `TicTacToe` contract address padding to 32 bytes.
- `0000000000000000000000000000000000000000000000000000000000000000`: `msg.value` is 0 (padding to 32 bytes)

`func` is a dynamic type:

- `0000000000000000000000000000000000000000000000000000000000000060`: offset to start of data part of third parameter. (32\*3 bytes)
- `0000000000000000000000000000000000000000000000000000000000000044`: length of `func`. (68 bytes)
- `5186a16b00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c80000000000000000000000003c44cdddb6a900fa2b585dd299e03d12fa4293bc00000000000000000000000000000000000000000000000000000000`: the real func data (i.e. the data described in Case 1) with padding.
